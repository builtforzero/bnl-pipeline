{"id":"zPzN","dependencies":[{"name":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\package.json","includedInParent":true,"mtime":1598559661504},{"name":"dotenv","loc":{"line":5,"column":16},"parent":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\client\\aggregator.js","resolved":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\node_modules\\dotenv\\lib\\main.js"},{"name":"d3","loc":{"line":6,"column":27},"parent":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\client\\aggregator.js","resolved":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\node_modules\\d3\\index.js"},{"name":"aws-sdk","loc":{"line":7,"column":28},"parent":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\client\\aggregator.js","resolved":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\node_modules\\aws-sdk\\lib\\aws.js"},{"name":"papaparse","loc":{"line":8,"column":29},"parent":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\client\\aggregator.js","resolved":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\node_modules\\papaparse\\papaparse.min.js"},{"name":"validatorjs","loc":{"line":9,"column":34},"parent":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\client\\aggregator.js","resolved":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\node_modules\\validatorjs\\src\\validator.js"},{"name":"string-similarity","loc":{"line":10,"column":41},"parent":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\client\\aggregator.js","resolved":"C:\\Users\\Kavya\\Desktop\\Community Solutions\\Web Apps\\bnl-pipeline\\node_modules\\string-similarity\\src\\index.js"}],"generated":{"js":"\"use strict\";function e(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.AggregatorEngine=void 0;var n=function(){function t(o,n,a,r,i,u){e(this,t),console.log(\"aggregator engine starting\"),require(\"dotenv\").config();require(\"d3\"),require(\"aws-sdk\"),require(\"papaparse\"),require(\"validatorjs\"),require(\"string-similarity\")}return o(t,[{key:\"uploadToAws\",value:function(e,t,o,n){this.updateStatus(\".upload-status\",\"Uploading file to AWS\");var a=e.bucket,r=e.bucketRegion,i=e.identityPoolId;AWS.config.region=r,AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:i});var u={Bucket:a,Key:n,Body:o};new AWS.S3({apiVersion:\"2006-03-01\",params:{Bucket:a}}).upload(u,function(e,t){if(e)throw updateStatus(\".upload-status\",\"File was not uploaded. \".concat(e));updateStatus(\".upload-status\",\"File uploaded successfully to \".concat(t.Location))})}}]),t}();exports.AggregatorEngine=n;"},"sourceMaps":{"js":{"mappings":[{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":0}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":13}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":22}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":24}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":26}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":29}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":34}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":47}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":50}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":56}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":60}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":70}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":107}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":116}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":118}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":120}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":123}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":127}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":131}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":133}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":135}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":137}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":139}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":146}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":150}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":151}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":155}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":157}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":159}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":162}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":164}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":175}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":177}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":190}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":192}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":194}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":208}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":210}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":220}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":224}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":226}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":236}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":239}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":246}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":261}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":263}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":265}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":269}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":273}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":282}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":284}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":286}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":288}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":291}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":298}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":301}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":303}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":305}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":315}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":318}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":321}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":323}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":325}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":328}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":330}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":337}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":352}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":360}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":373}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":374}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":381}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":385}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":393}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":415}},{"source":"aggregator.js","name":"AggregatorEngine","original":{"line":1,"column":6},"generated":{"line":1,"column":417}},{"source":"aggregator.js","name":"AggregatorEngine","original":{"line":1,"column":6},"generated":{"line":1,"column":421}},{"source":"aggregator.js","name":"AggregatorEngine","original":{"line":1,"column":6},"generated":{"line":1,"column":423}},{"source":"aggregator.js","name":"state","original":{"line":3,"column":16},"generated":{"line":1,"column":434}},{"source":"aggregator.js","name":"state","original":{"line":3,"column":16},"generated":{"line":1,"column":443}},{"source":"aggregator.js","name":"state","original":{"line":3,"column":16},"generated":{"line":1,"column":445}},{"source":"aggregator.js","name":"dictionary","original":{"line":3,"column":23},"generated":{"line":1,"column":447}},{"source":"aggregator.js","name":"rules","original":{"line":3,"column":35},"generated":{"line":1,"column":449}},{"source":"aggregator.js","name":"input","original":{"line":3,"column":42},"generated":{"line":1,"column":451}},{"source":"aggregator.js","name":"metadata","original":{"line":3,"column":49},"generated":{"line":1,"column":453}},{"source":"aggregator.js","name":"customErrorMessages","original":{"line":3,"column":59},"generated":{"line":1,"column":455}},{"source":"aggregator.js","original":{"line":3,"column":80},"generated":{"line":1,"column":458}},{"source":"aggregator.js","original":{"line":3,"column":80},"generated":{"line":1,"column":460}},{"source":"aggregator.js","original":{"line":3,"column":80},"generated":{"line":1,"column":465}},{"source":"aggregator.js","name":"console","original":{"line":4,"column":8},"generated":{"line":1,"column":468}},{"source":"aggregator.js","name":"log","original":{"line":4,"column":16},"generated":{"line":1,"column":476}},{"source":"aggregator.js","original":{"line":4,"column":20},"generated":{"line":1,"column":480}},{"source":"aggregator.js","name":"require","original":{"line":5,"column":8},"generated":{"line":1,"column":510}},{"source":"aggregator.js","original":{"line":5,"column":16},"generated":{"line":1,"column":518}},{"source":"aggregator.js","name":"config","original":{"line":5,"column":26},"generated":{"line":1,"column":528}},{"source":"aggregator.js","name":"require","original":{"line":6,"column":19},"generated":{"line":1,"column":537}},{"source":"aggregator.js","original":{"line":6,"column":27},"generated":{"line":1,"column":545}},{"source":"aggregator.js","name":"require","original":{"line":7,"column":20},"generated":{"line":1,"column":551}},{"source":"aggregator.js","original":{"line":7,"column":28},"generated":{"line":1,"column":559}},{"source":"aggregator.js","name":"require","original":{"line":8,"column":21},"generated":{"line":1,"column":570}},{"source":"aggregator.js","original":{"line":8,"column":29},"generated":{"line":1,"column":578}},{"source":"aggregator.js","name":"require","original":{"line":9,"column":26},"generated":{"line":1,"column":591}},{"source":"aggregator.js","original":{"line":9,"column":34},"generated":{"line":1,"column":599}},{"source":"aggregator.js","name":"require","original":{"line":10,"column":33},"generated":{"line":1,"column":614}},{"source":"aggregator.js","original":{"line":10,"column":41},"generated":{"line":1,"column":622}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":643}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":650}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":652}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":654}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":655}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":656}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":660}},{"source":"aggregator.js","name":"state","original":{"line":25,"column":16},"generated":{"line":1,"column":674}},{"source":"aggregator.js","name":"state","original":{"line":25,"column":16},"generated":{"line":1,"column":680}},{"source":"aggregator.js","name":"state","original":{"line":25,"column":16},"generated":{"line":1,"column":689}},{"source":"aggregator.js","name":"dictionary","original":{"line":25,"column":23},"generated":{"line":1,"column":691}},{"source":"aggregator.js","name":"file","original":{"line":25,"column":35},"generated":{"line":1,"column":693}},{"source":"aggregator.js","name":"docTitle","original":{"line":25,"column":41},"generated":{"line":1,"column":695}},{"source":"aggregator.js","name":"updateStatus","original":{"line":27,"column":13},"generated":{"line":1,"column":698}},{"source":"aggregator.js","name":"updateStatus","original":{"line":27,"column":13},"generated":{"line":1,"column":703}},{"source":"aggregator.js","original":{"line":27,"column":26},"generated":{"line":1,"column":716}},{"source":"aggregator.js","original":{"line":25,"column":51},"generated":{"line":1,"column":733}},{"source":"aggregator.js","name":"bucket","original":{"line":30,"column":14},"generated":{"line":1,"column":758}},{"source":"aggregator.js","name":"bucket","original":{"line":30,"column":14},"generated":{"line":1,"column":762}},{"source":"aggregator.js","name":"state","original":{"line":30,"column":23},"generated":{"line":1,"column":764}},{"source":"aggregator.js","name":"bucket","original":{"line":30,"column":29},"generated":{"line":1,"column":766}},{"source":"aggregator.js","name":"bucketRegion","original":{"line":31,"column":14},"generated":{"line":1,"column":773}},{"source":"aggregator.js","name":"state","original":{"line":31,"column":29},"generated":{"line":1,"column":775}},{"source":"aggregator.js","name":"bucketRegion","original":{"line":31,"column":35},"generated":{"line":1,"column":777}},{"source":"aggregator.js","name":"identityPoolId","original":{"line":32,"column":14},"generated":{"line":1,"column":790}},{"source":"aggregator.js","name":"state","original":{"line":32,"column":31},"generated":{"line":1,"column":792}},{"source":"aggregator.js","name":"identityPoolId","original":{"line":32,"column":37},"generated":{"line":1,"column":794}},{"source":"aggregator.js","name":"AWS","original":{"line":35,"column":8},"generated":{"line":1,"column":809}},{"source":"aggregator.js","name":"config","original":{"line":35,"column":12},"generated":{"line":1,"column":813}},{"source":"aggregator.js","name":"region","original":{"line":35,"column":19},"generated":{"line":1,"column":820}},{"source":"aggregator.js","name":"bucketRegion","original":{"line":35,"column":28},"generated":{"line":1,"column":827}},{"source":"aggregator.js","name":"AWS","original":{"line":36,"column":8},"generated":{"line":1,"column":829}},{"source":"aggregator.js","name":"config","original":{"line":36,"column":12},"generated":{"line":1,"column":833}},{"source":"aggregator.js","name":"credentials","original":{"line":36,"column":19},"generated":{"line":1,"column":840}},{"source":"aggregator.js","original":{"line":36,"column":33},"generated":{"line":1,"column":852}},{"source":"aggregator.js","name":"AWS","original":{"line":36,"column":37},"generated":{"line":1,"column":856}},{"source":"aggregator.js","name":"CognitoIdentityCredentials","original":{"line":36,"column":41},"generated":{"line":1,"column":860}},{"source":"aggregator.js","original":{"line":36,"column":68},"generated":{"line":1,"column":887}},{"source":"aggregator.js","name":"IdentityPoolId","original":{"line":37,"column":12},"generated":{"line":1,"column":888}},{"source":"aggregator.js","name":"identityPoolId","original":{"line":37,"column":28},"generated":{"line":1,"column":903}},{"source":"aggregator.js","name":"s3","original":{"line":41,"column":14},"generated":{"line":1,"column":907}},{"source":"aggregator.js","name":"params","original":{"line":49,"column":14},"generated":{"line":1,"column":911}},{"source":"aggregator.js","original":{"line":49,"column":23},"generated":{"line":1,"column":913}},{"source":"aggregator.js","name":"Bucket","original":{"line":50,"column":12},"generated":{"line":1,"column":914}},{"source":"aggregator.js","name":"bucket","original":{"line":50,"column":20},"generated":{"line":1,"column":921}},{"source":"aggregator.js","name":"Key","original":{"line":51,"column":12},"generated":{"line":1,"column":923}},{"source":"aggregator.js","name":"docTitle","original":{"line":51,"column":17},"generated":{"line":1,"column":927}},{"source":"aggregator.js","name":"Body","original":{"line":52,"column":12},"generated":{"line":1,"column":929}},{"source":"aggregator.js","name":"file","original":{"line":52,"column":18},"generated":{"line":1,"column":934}},{"source":"aggregator.js","original":{"line":41,"column":19},"generated":{"line":1,"column":937}},{"source":"aggregator.js","name":"AWS","original":{"line":41,"column":23},"generated":{"line":1,"column":941}},{"source":"aggregator.js","name":"S3","original":{"line":41,"column":27},"generated":{"line":1,"column":945}},{"source":"aggregator.js","original":{"line":41,"column":30},"generated":{"line":1,"column":948}},{"source":"aggregator.js","name":"apiVersion","original":{"line":42,"column":12},"generated":{"line":1,"column":949}},{"source":"aggregator.js","original":{"line":42,"column":24},"generated":{"line":1,"column":960}},{"source":"aggregator.js","name":"params","original":{"line":43,"column":12},"generated":{"line":1,"column":973}},{"source":"aggregator.js","original":{"line":43,"column":20},"generated":{"line":1,"column":980}},{"source":"aggregator.js","name":"Bucket","original":{"line":44,"column":16},"generated":{"line":1,"column":981}},{"source":"aggregator.js","name":"bucket","original":{"line":44,"column":24},"generated":{"line":1,"column":988}},{"source":"aggregator.js","name":"upload","original":{"line":56,"column":11},"generated":{"line":1,"column":993}},{"source":"aggregator.js","name":"params","original":{"line":56,"column":18},"generated":{"line":1,"column":1000}},{"source":"aggregator.js","original":{"line":56,"column":26},"generated":{"line":1,"column":1002}},{"source":"aggregator.js","name":"err","original":{"line":56,"column":36},"generated":{"line":1,"column":1011}},{"source":"aggregator.js","name":"data","original":{"line":56,"column":41},"generated":{"line":1,"column":1013}},{"source":"aggregator.js","name":"err","original":{"line":57,"column":16},"generated":{"line":1,"column":1016}},{"source":"aggregator.js","name":"err","original":{"line":57,"column":16},"generated":{"line":1,"column":1019}},{"source":"aggregator.js","name":"err","original":{"line":58,"column":22},"generated":{"line":1,"column":1021}},{"source":"aggregator.js","name":"updateStatus","original":{"line":59,"column":20},"generated":{"line":1,"column":1027}},{"source":"aggregator.js","original":{"line":59,"column":33},"generated":{"line":1,"column":1040}},{"source":"aggregator.js","name":"err","original":{"line":59,"column":77},"generated":{"line":1,"column":1057}},{"source":"aggregator.js","name":"err","original":{"line":59,"column":77},"generated":{"line":1,"column":1083}},{"source":"aggregator.js","name":"err","original":{"line":59,"column":77},"generated":{"line":1,"column":1090}},{"source":"aggregator.js","name":"updateStatus","original":{"line":61,"column":12},"generated":{"line":1,"column":1094}},{"source":"aggregator.js","original":{"line":61,"column":25},"generated":{"line":1,"column":1107}},{"source":"aggregator.js","name":"data","original":{"line":61,"column":76},"generated":{"line":1,"column":1124}},{"source":"aggregator.js","name":"data","original":{"line":61,"column":76},"generated":{"line":1,"column":1157}},{"source":"aggregator.js","name":"data","original":{"line":61,"column":76},"generated":{"line":1,"column":1164}},{"source":"aggregator.js","name":"Location","original":{"line":61,"column":81},"generated":{"line":1,"column":1166}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":1183}},{"source":"aggregator.js","name":"AggregatorEngine","original":{"line":1,"column":6},"generated":{"line":1,"column":1185}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":1188}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":1196}},{"source":"aggregator.js","original":{"line":66,"column":1},"generated":{"line":1,"column":1213}}],"sources":{"aggregator.js":"class AggregatorEngine {\r\n\r\n    constructor(state, dictionary, rules, input, metadata, customErrorMessages) {\r\n        console.log(\"aggregator engine starting\");\r\n        require('dotenv').config();\r\n        const d3 = require('d3')\r\n        const AWS = require('aws-sdk');\r\n        const Papa = require('papaparse');\r\n        const Validator = require('validatorjs');\r\n        const stringSimilarity = require('string-similarity');\r\n    }\r\n\r\n\r\n    /* HELPER FUNCTIONS */\r\n\r\n\r\n\r\n    /* AGGREGATOR FUNCTIONS */\r\n\r\n\r\n\r\n    /* UPLOAD FUNCTIONS */\r\n\r\n    // Upload a file to AWS\r\n    uploadToAws(state, dictionary, file, docTitle) {\r\n\r\n        this.updateStatus(\".upload-status\", `Uploading file to AWS`)\r\n\r\n        // Environment variables\r\n        const bucket = state.bucket;\r\n        const bucketRegion = state.bucketRegion;\r\n        const identityPoolId = state.identityPoolId;\r\n\r\n        // Config AWS\r\n        AWS.config.region = bucketRegion;\r\n        AWS.config.credentials = new AWS.CognitoIdentityCredentials({\r\n            IdentityPoolId: identityPoolId,\r\n        });\r\n\r\n        // New S3 instance\r\n        const s3 = new AWS.S3({\r\n            apiVersion: '2006-03-01',\r\n            params: {\r\n                Bucket: bucket\r\n            }\r\n        });\r\n\r\n        // Set up S3 upload parameters\r\n        const params = {\r\n            Bucket: bucket,\r\n            Key: docTitle, // File name you want to save as in S3\r\n            Body: file,\r\n        };\r\n\r\n        // Upload files to the bucket\r\n        s3.upload(params, function (err, data) {\r\n            if (err) {\r\n                throw err,\r\n                    updateStatus(\".upload-status\", `File was not uploaded. ${err}`)\r\n            }\r\n            updateStatus(\".upload-status\", `File uploaded successfully to ${data.Location}`);\r\n        });\r\n\r\n    }\r\n\r\n};\r\n\r\nexport {\r\n    AggregatorEngine\r\n};"},"lineCount":null}},"error":null,"hash":"36753074ef2b8914643cf9f62b0d8366","cacheData":{"env":{}}}